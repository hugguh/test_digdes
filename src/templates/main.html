<!DOCTYPE HTML>
<html lang="en">
<head>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.2/css/bootstrap.min.css"
          integrity="sha384-PsH8R72JQ3SOdhVi3uxftmaW6Vc51MKb0q5P2rRUpPvrszuE4W1povHYgTpBfshb"
          crossorigin="anonymous">
    <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">
    <link href="/static/img/favicon.ico" rel="shortcut icon">

    <title>Digdes test lesson</title>

    <meta name="description" content="photo"/>
    <meta name="keywords" content="instagram, photo"/>

</head>
<body class="pb-0">
<header>
    <div class="collapse bg-dark" id="navbarHeader">
        <div class="container">
            <div class="row">
                <div class="col-sm-8 col-md-7 py-4">
                    <h4 class="text-white">About</h4>
                    <p class="text-muted">This is example of my skills doing sites with using knowledge of JS, HTML5, CSS, Bootstrap 4, Python and Docker.</p>
                </div>
                <div class="col-sm-4 offset-md-1 py-4">
                    <h4 class="text-white">Contact</h4>
                    <ul class="list-unstyled">
                        <li><a href="" class="text-white">Follow on Twitter</a></li>
                        <li><a href="" class="text-white">Like on Facebook</a></li>
                        <li><a href="" class="text-white">Like on Instagram</a></li>
                        <li><a href="" class="text-white">Email me</a></li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
    <div class="navbar navbar-dark bg-dark shadow-sm">
        <div class="container d-flex justify-content-between">
            <a href="#" class="navbar-brand d-flex align-items-center">
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none" stroke="currentColor"
                     stroke-linecap="round" stroke-linejoin="round" stroke-width="2" aria-hidden="true" class="mr-2"
                     viewBox="0 0 24 24">
                    <path d="M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z"/>
                    <circle cx="12" cy="13" r="4"/>
                </svg>
                <strong>Album</strong>
            </a>
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarHeader"
                    aria-controls="navbarHeader" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
        </div>
    </div>
</header>

<main role="main">

    <section class="py-5 text-center container about_user">

    </section>

    <div class="album py-5 bg-light">
        <div class="container">

            <div class="row justify-content-center user_posts">

            </div>
        </div>
    </div>

</main>

<footer class="text-muted py-5">
    <div class="container">
        <p class="float-right mb-1">
            <a href="#">Back to top</a>
        </p>
        <p class="mb-1">Album example Instagram user hugguh1234</p>
    </div>
</footer>


<!-- jQuery first, then Popper.js, then Bootstrap JS -->
<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"
        integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN"
        crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"
        integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q"
        crossorigin="anonymous"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"
        integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl"
        crossorigin="anonymous"></script>
<script src="/static/jquery.min.js"></script>
<script>
    jQuery(function($){
        let token = '20661315763.de65ec3.be41e77ad7f3401985c6b920f1fee592',
            count = 5;

        $.ajax({
            url: 'https://api.instagram.com/v1/users/self/media/recent',
            dataType: 'json',
            type: 'GET',
            data: {access_token: token, count: count},
            success: function(result){
                console.log(result);
                for( x in result.data ){
                    $('.user_posts').append('<div class="col-md-8">\n' +
                                '                    <div class="card mb-4 shadow-sm">\n' +
                                '                        <div class=""><img src="'+result.data[x].images.standard_resolution.url+'"></div>\n' +
                                '                        <div class="card-body">\n' +
                                '                            <p class="card-text"><a>'+result.data[x].caption.text+'</a></p>\n' +
                                '                            <div class="d-flex">\n' +
                                '                                <small class="col-2 text-muted"><i class="mr-2 fa fa-heart"></i>' +
                                '                                   <a>'+result.data[x].likes.count+'</a></small>\n' +
                                '                                <small class="col-2 text-muted"><i class="mr-2 fa fa-comment"></i>' +
                                '                                   <a>'+result.data[x].comments.count+'</a></small>\n' +
                                '                                <small class="col-4 text-muted"><i class="mr-2 fa fa-calendar"></i>' +
                                '                                   <a>'+result.data[x].caption.created_time+'</a></small>\n' +
                                '                            </div>\n' +
                                '                        </div>\n' +
                                '                    </div>\n' +
                                '                </div>');

                }
            },
            error: function(result){
                console.log(result); // пишем в консоль об ошибках
            }
        });

    });

    jQuery(function($){
            let token = '20661315763.de65ec3.be41e77ad7f3401985c6b920f1fee592',
                count = 1;
            $.ajax({
                url: 'https://api.instagram.com/v1/users/self/media/recent',
                dataType: 'json',
                type: 'GET',
                data: {access_token: token, count: count},
                success: function(result){
                    console.log(result);
                    for( x in result.data ){
                        $('.about_user').append('<div class="row py-lg-5">\n' +
                                            '            <div class="col-lg-6 col-md-8 mx-auto">\n' +
                                            '                <h1 class="font-weight-light"><a>'+result.data[x].user.full_name+'</a></h1>\n' +
                                            '                <div class=""><img src="'+result.data[x].user.profile_picture+'"></div>\n' +
                                            '                <p class="lead text-muted count_photo"></p>\n' +
                                            '            </div>\n' +
                                            '        </div>');

                    }
                },
                error: function(result){
                    console.log(result); // пишем в консоль об ошибках
                }
        });

    });
</script>
</body>

</html>